<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construction Project Risk Dashboard - Secure Login</title>
    <style>
        /* CSS Reset and Body Styling */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f9;
            display: flex;
            flex-direction: column;
            overflow: hidden; 
        }

        /* 2. Header Styling */
        .header {
            background-color: #ffffff;
            color: #1f3d7a;
            padding: 15px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 10;
            flex-shrink: 0;
            text-align: center;
        }

        .header h1 {
            font-size: 1.5rem;
            margin: 0;
            font-weight: 600;
        }

        /* 3. Dashboard Container: Hidden initially */
        .dashboard-container {
            width: 100%;
            height: calc(100vh - 50px);
            flex-grow: 1;
            /* Added CSS to hide the dashboard until authenticated */
            display: none; 
        }

        /* 4. Iframe Styling */
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            background-color: #ffffff;
        }

        /* Styling for the unauthorized message */
        .unauthorized {
            display: flex;
            justify-content: center;
            align-items: center;
            height: calc(100vh - 50px);
            color: #cc0000;
            font-size: 1.5rem;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .header { padding: 10px; }
            .header h1 { font-size: 1.2rem; }
            .dashboard-container { height: calc(100vh - 40px); }
            .unauthorized { height: calc(100vh - 40px); }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ðŸ‘· Risk Dashboard - Construction Project Overview</h1>
    </div>
    
    <div id="unauthorized-message" class="unauthorized" style="display: none;">
        Access Denied. Invalid credentials.
    </div>

    <div class="dashboard-container" id="dashboard-content">
        <iframe 
            title="Risk Dashboard - Opera" 
            src="https://app.powerbi.com/view?r=eyJrIjoiYjRjNmZhZDgtYjY3Ni00OWI4LTg2ZjMtZTIyNzU0OTFiYzVkIiwidCI6ImRjYmJhNzgwLTM1M2UtNGU4OC04OWY5LTZmNGZmYTdjODM4YSIsImMiOjl9" 
            frameborder="0" 
            allowFullScreen="true">
        </iframe>
    </div>

    <script>
        // --- !!! SECURITY RISK: Credentials stored in client-side code !!! ---
        const REQUIRED_EMAIL = "a.yousef@el-seif.com.sa"; // Found in the source code
        const REQUIRED_PASSWORD = "ecmrisk2028";        // Found in the source code
        // ---------------------------------------------------------------------

        function authenticate() {
            let email = prompt("Please enter your email:");
            
            // Check if user clicked cancel on the first prompt
            if (email === null) {
                document.getElementById('unauthorized-message').style.display = 'flex';
                return;
            }

            let password = prompt("Please enter your password:");

            // Check if user clicked cancel on the second prompt
            if (password === null) {
                document.getElementById('unauthorized-message').style.display = 'flex';
                return;
            }
            
            // Client-side comparison
            if (email === REQUIRED_EMAIL && password === REQUIRED_PASSWORD) {
                // Success: Show the dashboard
                document.getElementById('dashboard-content').style.display = 'block';
            } else {
                // Failure: Show the denial message
                document.getElementById('unauthorized-message').style.display = 'flex';
            }
        }

        // Run the authentication check when the page loads
        window.onload = authenticate;
    </script>
</body>
</html>
