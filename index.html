<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construction Project Risk Dashboard - Secure Login (Full Screen)</title>
    <style>
        /* CSS Fix: Use Viewport Height (vh) to ensure the content dynamically fills the browser window. */

        /* 1. Global Reset: Set the root elements to 100% height and remove default margins/padding. */
        html, body {
            /* Now 100% height of the viewport */
            height: 100vh; 
            width: 100%;
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f9;
            overflow: hidden; /* Prevents unwanted scrollbars */
            display: flex;
            flex-direction: column;
        }

        /* 2. Dashboard Container: The element holding the iframe */
        .dashboard-container {
            width: 100%;
            /* CRUCIAL CHANGE: Height is now 100% of the viewport height (100vh) */
            height: 100vh; 
            flex-grow: 1; 
        }

        /* 3. Iframe Styling: Ensures the iframe fills its parent container (dashboard-container) */
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            background-color: #ffffff;
        }

        /* Styling for the unauthorized message (also takes full screen) */
        .unauthorized {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* Full screen height */
            color: #cc0000;
            font-size: 1.5rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="unauthorized-message" class="unauthorized" style="display: none;">
        Access Denied. Invalid credentials.
    </div>

    <div class="dashboard-container" id="dashboard-content" style="display: none;">
        <iframe 
            title="Risk Dashboard - Opera" 
            src="https://app.powerbi.com/view?r=eyJrIjoiYjRjNmZhZDgtYjY3Ni00OWI4LTg2ZjMtZTIyNzU0OTFiYzVkIiwidCI6ImRjYmJhNzgwLTM1M2UtNGU4OC04OWY5LTZmNGZmYTdjODM4YSIsImMiOjl9" 
            frameborder="0" 
            allowFullScreen="true">
        </iframe>
    </div>

    <script>
        // --- !!! SECURITY RISK: Credentials stored in client-side code !!! ---
        // Storing credentials in client-side JavaScript is easily bypassed.
        const REQUIRED_EMAIL = "a.yousef@el-seif.com.sa";
        const REQUIRED_PASSWORD = "ecmrisk2028";
        // ---------------------------------------------------------------------

        function authenticate() {
            let email = prompt("Please enter your email:");
            
            if (email === null) {
                document.getElementById('unauthorized-message').style.display = 'flex';
                return;
            }

            let password = prompt("Please enter your password:");

            if (password === null) {
                document.getElementById('unauthorized-message').style.display = 'flex';
                return;
            }
            
            // Client-side comparison
            if (email === REQUIRED_EMAIL && password === REQUIRED_PASSWORD) {
                // Success: Show the dashboard
                document.getElementById('dashboard-content').style.display = 'block';
            } else {
                // Failure: Show the denial message
                document.getElementById('unauthorized-message').style.display = 'flex';
            }
        }

        // Run the authentication check when the page loads
        window.onload = authenticate;
    </script>
</body>
</html>
